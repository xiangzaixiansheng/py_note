列表和元组

### 1、列表

#### 1.1、索引

这称为索引（indexing）。你可使用索引来获取元素。这种索引方式适用于所有序列。当你使

用负数索引时，Python将从右（即从最后一个元素）开始往左数，因此1是最后一个元素的位置。

```python
>>> greeting = 'Hello' 
>>> greeting[0] 
'H'
```

#### 1.2、切片

简而言之，你提供两个索引来指定切片的边界，其中第一个索引指定的元素包含在切片内，

但第二个索引指定的元素不包含在切片内。

```python
>>> numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
>>> numbers[7:10] 
[8, 9, 10]
```

步长

步长为2时，将从起点和终点之间每隔一个元素提取一个元素。

```python
>>> numbers[0:10:2] 
[1, 3, 5, 7, 9] 
numbers[3:6:3] 
[4]
```

当然，步长不能为0，否则无法向前移动，但可以为负数，即从右向左提取元素。

```python
>>> numbers[8:3:-1] 
[9, 8, 7, 6, 5]
```

#### 1.3、序列相加

```python
>>> [1, 2, 3] + [4, 5, 6] 
[1, 2, 3, 4, 5, 6] 
>>> 'Hello,' + 'world!' 
'Hello, world!'
```

#### 1.4、序列相乘

```python
>>> 'python' * 5 
'pythonpythonpythonpythonpython' 
>>> [42] * 10 
[42, 42, 42, 42, 42, 42, 42, 42, 42, 42]
```

#### 1.5、成员资格

```python
>>> permissions = 'rw' 
>>> 'w' in permissions 
True 
>>> 'x' in permissions 
False 
>>> users = ['mlh', 'foo', 'bar'] 
>>> input('Enter your user name: ') in users 
Enter your user name: mlh 
True 
>>> subject = '$$$ Get rich now!!! $$$' 
>>> '$$$' in subject 
True
```

#### 1.6、长度、最大值、最小值

```python
>>> numbers = [100, 34, 678] 
>>> len(numbers) 
3 
>>> max(numbers) 
678 
>>> min(numbers)
```

### 2、list

鉴于不能像修改列表那样修改字符串，因此在有些情况下使用字符串来创建列表很有帮助。

为此，可使用函数list。

\>>> list('Hello') 

['H', 'e', 'l', 'l', 'o']

请注意，可将任何序列（而不仅仅是字符串）作为list的参数。

2.1、修改列表：给元素赋值、删除元素、给切片赋值

```python
# 给元素赋值
>>> x = [1, 1, 1] 
>>> x[1] = 2 
>>> x 
[1, 2, 1]
# 删除元素
>>> names = ['Alice', 'Beth', 'Cecil', 'Dee-Dee', 'Earl'] 
>>> del names[2] 
>>> names 
['Alice', 'Beth', 'Dee-Dee', 'Earl']

# 给切片赋值
>>> name = list('Perl') 
>>> name 
['P', 'e', 'r', 'l'] 
>>> name[2:] = list('ar') 
>>> name 
['P', 'e', 'a', 'r']
```



#### 2.2、列表方法

**append**、**clear**、**copy**、**count**、**extend**、**index**、**pop**、**remove**、**reverse**、**sort**

```python
# append
>>> lst = [1, 2, 3] 
>>> lst.append(4) 
>>> lst 
[1, 2, 3, 4]

# clear
>>> lst = [1, 2, 3] 
>>> lst.clear() 
>>> lst 
[]
这类似于切片赋值语句lst[:] = []。

# cpoy
>>> a = [1, 2, 3] 
>>> b = a 
>>> b[1] = 4 
>>> a 
[1, 4, 3]

>>> a = [1, 2, 3] 
>>> b = a.copy() 
>>> b[1] = 4 
>>> a 
[1, 2, 3] 
这类似于使用a[:]或list(a)，它们也都复制a。

# count
方法count计算指定的元素在列表中出现了多少次。
>>> ['to', 'be', 'or', 'not', 'to', 'be'].count('to') 
2 
>>> x = [[1, 2], 1, 1, [2, 1, [1, 2]]] 
>>> x.count(1) 
2 
>>> x.count([1, 2]) 
1

# extend
方法extend让你能够同时将多个值附加到列表末尾，为此可将这些值组成的序列作为参数提
供给方法extend。换而言之，你可使用一个列表来扩展另一个列表。
>>> a = [1, 2, 3] 
>>> b = [4, 5, 6] 
>>> a.extend(b) 
>>> a 
[1, 2, 3, 4, 5, 6]
这可能看起来类似于拼接，但存在一个重要差别，那就是将修改被扩展的序列（这里是a）。
在常规拼接中，情况是返回一个全新的序列

# index
方法index在列表中查找指定值第一次出现的索引。
>>> knights = ['We', 'are', 'the', 'knights', 'who', 'say', 'ni'] 
>>> knights.index('who') 
4

# insert
方法insert用于将一个对象插入列表
>>> numbers = [1, 2, 3, 5, 6, 7] 
>>> numbers.insert(3, 'four') 
>>> numbers 
[1, 2, 3, 'four', 5, 6, 7]

# pop
方法pop从列表中删除一个元素（末尾为最后一个元素），并返回这一元素
>>> x = [1, 2, 3] 
>>> x.pop() 
3 
>>> x 
[1, 2] 
>>> x.pop(0) 
1 
>>> x 
[2]

pop是唯一既修改列表又返回一个非None值的列表方法。

# remove
方法remove用于删除第一个为指定值的元素。
>>> x = ['to', 'be', 'or', 'not', 'to', 'be'] 
>>> x.remove('be') 
>>> x 
['to', 'or', 'not', 'to', 'be']
如你所见，这只删除了为指定值的第一个元素，无法删除列表中其他为指定值的元素（这里
是字符串'bee'）。
请注意，remove是就地修改且不返回值的方法之一。不同于pop的是，它修改列表，但不返
回任何值

# reverse
方法reverse按相反的顺序排列列表中的元素（我想你对此应该不会感到惊讶）。
>>> x = [1, 2, 3] 
>>> x.reverse() 
>>> x 
[3, 2, 1]

# sort
方法sort用于对列表就地排序①。就地排序意味着对原来的列表进行修改，使其元素按顺序
排列，而不是返回排序后的列表的副本。

>>> x = [4, 6, 2, 1, 7, 9] 
>>> x.sort() 
>>> x 
[1, 2, 4, 6, 7, 9]

>>> x = [4, 6, 2, 1, 7, 9] 
>>> x.sort(reverse=True) 
>>> x 
[9, 7, 6, 4, 2, 1]
```

### 3、元组：不可修改的序列



与列表一样，元组也是序列，唯一的差别在于元组是不能修改的（你可能注意到了，字符串

也不能修改）。元组语法很简单，只要将一些值用逗号分隔，就能自动创建一个元组。

\>>> 1, 2, 3 

(1, 2, 3)

如你所见，元组还可用圆括号括起（这也是通常采用的做法）。

\>>> (1, 2, 3) 

(1, 2, 3)

空元组用两个不包含任何内容的圆括号表示。

\>>> () 

()

你可能会问，如何表示只包含一个值的元组呢？这有点特殊：虽然只有一个值，也必须在它

后面加上逗号。

\>>> 42 

42 

\>>> 42, 

(42,) 

```python
函数tuple的工作原理与list很像：它将一个序列作为参数，并将其转换为元组①。如果参数
已经是元组，就原封不动地返回它。
>>> tuple([1, 2, 3]) 
(1, 2, 3) 
>>> tuple('abc') 
('a', 'b', 'c') 
>>> tuple((1, 2, 3)) 
(1, 2, 3)

你可能意识到了，元组并不太复杂，而且除创建和访问其元素外，可对元组执行的操作不多。
元组的创建及其元素的访问方式与其他序列相同。
>>> x = 1, 2, 3 
>>> x[1] 
2 
>>> x[0:2] 
(1, 2)
```